{"openapi":"3.0.1","info":{"title":"Digital Green Certificate Verifier Service","description":"The API defines how to exchange verification information for digital green certificates.","license":{"name":"Apache 2.0","url":"https://www.apache.org/licenses/LICENSE-2.0"},"version":"1.3.2"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/signercertificateUpdate":{"get":{"tags":["Signer Information"],"summary":"Gets one signer certificate and a resume token.","description":"This method return one signer certificate and a corresponding resume token. In order to download all available certificates, start calling this method without the resume token set. Then repeat to call this method, with the resume token parameter set to the value of the last response. When you receive a 204 response you have downloaded all available certificates.","operationId":"getSignerCertificateUpdate","parameters":[{"name":"X-RESUME-TOKEN","in":"header","description":"Defines where to resume the download of the certificates","required":false,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Returns one signer certificate and as header parameter a resume token and the kid. There might be more certificates available to download. Repeat the request with the resume token parameter set to the actual value, until you get a 204 response.","headers":{"X-KID":{"description":"The kid of the returned certificate.","style":"simple","schema":{"type":"string"}},"X-RESUME-TOKEN":{"description":"Token can be used to resume the download of the certificates.","style":"simple","schema":{"type":"string"}}},"content":{"text/plain":{"schema":{"type":"string"},"example":"MIIBGzCBwqADAgECAgRggUObMAoGCCqGSM49BAMCMBYxFDASBgNVBAMMC2VkZ2NfZGV2X2VjMB4XDTIxMDQyMjA5MzYyN1oXDTIyMDQyMjA5MzYyN1owFjEUMBIGA1UEAwwLZWRnY19kZXZfZWMwWTATBgcqhkjOPQIBBggqhkjOPQMBBwNCAAQVQc9JY190s/Jn0CBSq/AWuxmqUzRVu+AsCe6gfbqk3s0e4jonzp5v/5IMW/9t7v5Fu2ITMmOTVfKL1TuM+aixMAoGCCqGSM49BAMCA0gAMEUCIQCGWIk6ZET3afRxdpFVuXdrEYtFiR1MGDx4HweZfspjSgIgBdCJsT746/FI3euIbzKDoeY65m+Qx2/4Cd/vOayNbuw="}}},"204":{"description":"No Content available. All certificates already downloaded."}}},"post":{"tags":["Signer Information"],"summary":"Returns the data for the requested certificates.","description":"Returns the certificate data for all kids in the request body.","operationId":"lookupCertificateData","requestBody":{"content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}}}},"required":true},"responses":{"200":{"description":"Returns the certificate data.","content":{"application/json":{"example":"{ \n  “DE”: [“MII….”,”MII…”],\n  “NL”: [“MII…”,”MII…”]\n}\n"}}}}}},"/trustedissuers":{"get":{"tags":["Trusted Issuers"],"summary":"Gets one trusted issuers","description":"This method return a list of trusted issuers.","operationId":"getTrustedIssuers","parameters":[{"name":"IF-NONE-MATCH","in":"header","description":"When the eTag matches the current Tag, there is a 304 response.","schema":{"type":"string"}},{"name":"If-None-Match","in":"header","required":false,"schema":{"type":"string","default":""}}],"responses":{"200":{"description":"Returns the the trusted issuers list.","headers":{"ETag":{"description":"ETAG of the current data set","style":"simple","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TrustedIssuerDto"}}}}},"304":{"description":"Not modified.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TrustedIssuerDto"}}}}}}}},"/signercertificateStatus":{"get":{"tags":["Signer Information"],"summary":"Gets a list of kids from all valid certificates.","description":"Gets a list of kids from all valid certificates. This list can be used to verify, that the downloaded certificates are still valid. If a kid of a downloaded certificate is not part of the list, the certificate is not valid any more.","operationId":"getSignerCertificateStatus","responses":{"200":{"description":"Returns a list of kids of all valid certificates.","content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}},"example":["8xYtW2837bc=","zoQi+KT68LM="]}}}}}},"/signercertificateStatus/delta":{"get":{"tags":["Signer Information"],"summary":"Gets a list of kids from all valid certificates.","description":"Gets a list of kids from all valid certificates. This list can be used to verify, that the downloaded certificates are still valid. If a kid of a downloaded certificate is not part of the list, the certificate is not valid any more.","operationId":"getDeltaList","parameters":[{"name":"If-Modified-Since","in":"header","description":"Returns only the objects which are modified behind the given date.","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"Returns a list of kids of all valid certificates.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeltaList"}}}}}}},"/context":{"get":{"tags":["Configuration"],"summary":"Provide configuration information for the verifier app","operationId":"getContext","responses":{"200":{"description":"Returns the current context for the verifier app.","content":{"application/json":{"schema":{"type":"string"},"example":"{\"origin\":\"DE\",\"versions\":{\"default\":{\"privacyUrl\":\"https://publications.europa.eu/en/web/about-us/legal-notices/eu-mobile-apps\",\"context\":{\"url\":\"https://dgca-verifier-service.example.com/context\",\"pubKeys\":[\"lKdU1EbQubxyDDm2q3N8KclZ2C94+3eI=\",\"r/mIkG3eEpVdm+u/ko/cwxzOMo1bkA5E=\"]},\"endpoints\":{\"status\":{\"url\":\"https://dgca-verifier-service.example.com/signercertificateStatus\",\"pubKeys\":[\"lKdU1EbQubxyDDm2q3N8KclZ2C94+3eI=\",\"r/mIkG3eEpVdm+u/ko/cwxzOMo1bkA5E=\"]},\"update\":{\"url\":\"https://dgca-verifier-service.example.com/signercertificateUpdate\",\"pubKeys\":[\"lKdU1EbQubxyDDm2q3N8KclZ2C94+3eI=\",\"r/mIkG3eEpVdm+u/ko/cwxzOMo1bkA5E=\"]}}},\"0.1.0\":{\"outdated\":true}}}"}}}}}}},"components":{"schemas":{"TrustedIssuerDto":{"type":"object","properties":{"url":{"type":"string"},"type":{"type":"string","enum":["HTTP","DID"]},"country":{"type":"string"},"thumbprint":{"type":"string"},"sslPublicKey":{"type":"string"},"keyStorageType":{"type":"string"},"signature":{"type":"string"},"timestamp":{"type":"string","format":"date-time"},"name":{"type":"string"}}},"DeltaList":{"type":"object","properties":{"updated":{"type":"array","items":{"type":"string"}},"deleted":{"type":"array","items":{"type":"string"}}},"example":{"updated":["33333d=","333311=","55554="],"deleted":["3115adf="]}}}}}